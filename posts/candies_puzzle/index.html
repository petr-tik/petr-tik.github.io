<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"  lang="en-us">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1"/>

<title>Unexpected breadth-first search | Software and puns</title>



<link href="http://petr-tik.github.io/index.xml" rel="alternate" type="application/rss+xml" title="Software and puns" />

<link rel="stylesheet" href="/css/style.css"/><link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
<link rel="manifest" href="/site.webmanifest">
<link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">
<link rel="canonical" href="http://petr-tik.github.io/posts/candies_puzzle/">
<meta name="msapplication-TileColor" content="#da532c">
<meta name="theme-color" content="#ffffff">
</head>
<body>
<section class="section">
  <div class="container">
    <nav class="nav">
      <div class="nav-left">
        <a class="nav-item" href="http://petr-tik.github.io/">
          <h1 class="title is-4">Software and puns</h1>
        </a>
      </div>
      <div class="nav-right">
        <nav class="nav-item level is-mobile"><a class="level-item" aria-label="github" href='https://github.com/petr-tik'
            target='_blank' rel='noopener'>
            <span class="icon">
              <i class><svg viewbox='0 0 24 24' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' aria-hidden='true'>
    
    <path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"/>
    
  </svg></i>
            </span>
          </a><a class="level-item" aria-label="twitter" href='https://twitter.com/petr_tik'
            target='_blank' rel='noopener'>
            <span class="icon">
              <i class><svg viewbox='0 0 24 24' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' aria-hidden='true'>
    
    <path d="M23 3a10.9 10.9 0 0 1-3.14 1.53 4.48 4.48 0 0 0-7.86 3v1A10.66 10.66 0 0 1 3 4s-4 9 5 13a11.64 11.64 0 0 1-7 2c9 5 20 0 20-11.5a4.5 4.5 0 0 0-.08-.83A7.72 7.72 0 0 0 23 3z"/>
    
  </svg></i>
            </span>
          </a></nav>
      </div>
    </nav>

    <nav class="nav">
      
      <div class="nav-left"><a class="nav-item" href="/about">
          <h2 class="title is-5">whoami</h2>
        </a></div>
      

      
    </nav>

  </div>
</section>
<section class="section">
  <div class="container">
    <div class="subtitle tags is-6 is-pulled-right">
      
      
<a class="subtitle is-6" href="/tags/python">#python</a>



  
  | <a class="subtitle is-6" href="/tags/algorithms">#algorithms</a>
  
  | <a class="subtitle is-6" href="/tags/hackerrank">#hackerrank</a>
  

      
    </div>
    <h2 class="subtitle is-6">February 27, 2017</h2>
    <h1 class="title">Unexpected breadth-first search</h1>
    
    <div class="content">
      

<p>This <a href="https://www.hackerrank.com/challenges/candies">puzzle</a> is in the dynamic programming section of HackerRank. Dynamic Programming problems are often solved recursively. This is a story of ignoring all the obvious clues and finding another type of solution.</p>

<p>To speed up recursion, you should find a way to memoize/cache results of previous calculations.</p>

<h2 id="problem-statement">Problem statement:</h2>

<pre><code>Given an array of students' grades (ints) in the same order as they sit. 
Return the minimal number of candies all students receive, such that:

* out of 2 adjacent students, the one with a higher grade receives more candy
* each student receives at least 1 piece of candy
</code></pre>

<h3 id="plot-twist">Plot twist</h3>

<p>Alternatively, you can look at the problem as a graph theory problem.</p>

<p>Represent each student as a node on a plane. Among adjacent nodes, draw directed edges from the node with a lower grade to the node with a higher grade. All the nodes without incoming edges aren&rsquo;t greater than their neighbours (equal grades means you can give less candy), so they will receive the minimum amount - 1. Now start several breadth-first searches from each of the nodes without incoming edges (they will be the local start points). Visit node and increment the value at its index in the candies array. Differently to normal breadth-first search, you don&rsquo;t need to keep track of previously visited nodes and you can revisit them to increment the counter. In case you have a peak around a point 8 (index = 3) eg</p>

<p>grades
1 2 4 8 6 5 3 2 1</p>

<p>candies (illegal) - if you don&rsquo;t revisit nodes to update counter.
1 2 3 4 5 4 3 2 1</p>

<p>candies (solution)
1 2 3 6 5 4 3 2 1</p>

<h3 id="complexity">Complexity</h3>

<p>The prepare_for_bfs method takes linear O(n) time and bfs takes maximum O(V + E)</p>

<p>The code is <a href="https://github.com/petr-tik/misc/blob/master/candies.py">here</a></p>

<p>If you see a problem in description or the code, please open issues, send PRs</p>

      
    </div>
    
  </div>
</section>



<section class="section">
  <div class="container has-text-centered">
    <p></p>
    
  </div>
</section>



</body>
</html>

